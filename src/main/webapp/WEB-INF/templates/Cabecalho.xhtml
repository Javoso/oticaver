<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

	<!-- Logo -->
	<p:link href="../dashboard/dashboard.xhtml" class="logo">
		<!-- mini logo for sidebar mini 50x50 pixels -->
		<span class="logo-mini"><b>OTICA VER</b></span>
		<!-- logo for regular state and mobile devices -->
		<span class="logo-lg"><b>Otica Ver</b></span>
	</p:link>

	<!-- Header Navbar -->
	<nav class="navbar navbar-static-top" role="navigation">
		<!-- Sidebar toggle button-->
		<a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button"> 
			<span class="sr-only">Toggle navigation</span>
		</a>
		<!-- Navbar Right Menu -->
		<div class="navbar-custom-menu">
			<ul class="nav navbar-nav">

								<li class="dropdown notifications-menu"><a href="#"
									class="dropdown-toggle" data-toggle="dropdown"> <i
										class="fa fa-bell-o"></i> <h:panelGroup
											styleClass="label label-warning"
											rendered="#{dashboardBean.qtdNotificacoes gt 0}">#{dashboardBean.qtdNotificacoes}</h:panelGroup>
								</a>
									<ul class="dropdown-menu">
										<li class="header">Notificações</li>
										<li>
											<ul class="menu">
												<ui:fragment
													rendered="#{dashboardBean.quantidadeParaAvaliacao gt 0 and (not dashboardBean.usuarioLogado.solicitante)}">
													<li><p:link
															outcome="/solicitacao/solicitacoesParaAvaliar.xhtml">
															<i class="fa fa-users text-aqua"></i>
															<h:outputText
																value="#{dashboardBean.quantidadeParaAvaliacao} solicitação(s) para avaliar!" />
														</p:link></li>
												</ui:fragment>

												<ui:fragment
													rendered="#{dashboardBean.quantidadeParaAvaliacao gt 0 and (dashboardBean.usuarioLogado.solicitante)}">
													<li><p:link outcome="/solicitacao/notificacoes.xhtml">
															<i class="fa fa-users text-aqua"></i>
															<h:outputText
																value="#{dashboardBean.quantidadeParaAvaliacao} solicitação(es) precisa de atenção!" />
														</p:link></li>
												</ui:fragment>

												<ui:fragment
													rendered="#{dashboardBean.quantidadeEmEdicao gt 0 and (dashboardBean.usuarioLogado.solicitante)}">
													<li><p:link
															outcome="/solicitacao/solicitacoesPorUsuarioEditar.xhtml">
															<i class="fa fa-users text-aqua"></i>
															<h:outputText
																value="#{dashboardBean.quantidadeEmEdicao} solicitação(es) em edição." />
														</p:link></li>
												</ui:fragment>
											</ul>
										</li>
										<ui:fragment
											rendered="#{dashboardBean.quantidadeParaAvaliacao eq 0 and (not dashboardBean.usuarioLogado.solicitante)}">
											<li class="footer"><a href="#"><h:outputText
														value="Nenhuma notificação no momento." /> </a></li>
										</ui:fragment>
									</ul></li>
								<li class="dropdown notifications-menu"><a href="#"
									class="dropdown-toggle" data-toggle="dropdown"> <i
										class="fa fa-exclamation-triangle"></i> <span
										class="label label-danger">0</span>
								</a>
									<ul class="dropdown-menu">
										<li class="header">Alertas</li>
										<li>
											<ul class="menu">
												<li><a href="#"> <i class="fa fa-users text-aqua"></i>
														Atualização no banco de dados
												</a></li>
												<li><a href="#"> <i class="fa fa-users text-aqua"></i>
														Atualização Aplicação
												</a></li>
											</ul>
										</li>
										<li class="footer"><a href="#">Nenhum alerta.</a></li>
									</ul></li>

				<!-- User Account Menu -->

				<li class="dropdown user user-menu">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown"> 
						<p:graphicImage library="img" name="avatar.png" class="user-image"
							alt="User Image"
							rendered="#{escopoSessaoBean.usuarioLogado.foto == null}" />
							 
							<p:graphicImage rendered="#{escopoSessaoBean.usuarioLogado.foto != null}"
								value="#{recuperaImagemMB.image}" class="user-image"
								alt="User Image">
									<f:param name="idUsuario" value="#{escopoSessaoBean.usuarioLogado.id}"></f:param>
							</p:graphicImage> 
							
							<span class="hidden-xs">
								#{escopoSessaoBean.usuarioLogado.nome}
							</span>
						</a>
						<ul class="dropdown-menu">
							<li class="user-header">
								<p:graphicImage library="img"
									name="avatar.png" class="img-circle" alt="User Image"
									rendered="#{escopoSessaoBean.usuarioLogado.foto == null}" /> 
									<p:graphicImage 
									rendered="#{escopoSessaoBean.usuarioLogado.foto != null}"
									value="#{recuperaImagemMB.image}" class="img-circle"
									alt="User Image">
									<f:param name="idUsuario"
										value="#{escopoSessaoBean.usuarioLogado.id}"></f:param>
								</p:graphicImage>
								<p>
									#{escopoSessaoBean.usuarioLogado.nome} 
									<small> 
										#{escopoSessaoBean.usuarioLogado.perfilUser.descricao}
									</small>
								</p>
							</li>
							<li class="user-footer">
								<div class="pull-left">
									<p:commandLink styleClass="btn btn-default btn-flat" action="#{loginBean.mudarSenha()}" >
										<i class="fa fa-key"></i> Mudar senha
									</p:commandLink>
								</div>

								<div class="pull-right">
									<h:form>
										<p:commandLink styleClass="btn btn-default btn-flat"
											action="#{loginBean.logout()}">
											<i class="fa fa-external-link"></i> Sair
											</p:commandLink>
									</h:form>
								</div>
							</li>
						</ul>
					</li>

				<!-- Menu Options -->
				<!-- 				<li class="dropdown options-menu"> -->
				<!-- Menu Toggle Button -->
				<!-- 					<a href="#" class="dropdown-toggle" -->
				<!-- 					data-toggle="dropdown"> <i class="fa fa-ellipsis-v" -->
				<!-- 						style="font-size: 20px;"></i> -->
				<!-- 				</a> -->

				<!-- 					<ul class="dropdown-menu"> -->
				<!-- 						<li> -->
				<!-- 							<ul class="menu"> -->
				<!-- 								<li><a href="#"> <i class="fa fa-user"></i> Perfil -->
				<!-- 								</a></li> -->

				<!-- 								<li><p:link -->
				<!-- 										rendered="#{segurancaBean.usuarioLogado.administrador}" -->
				<!-- 										href="/configuracoesdosistema.xhtml?faces-redirect=true"> -->
				<!-- 										<i class="fa fa-cog"></i> -->
				<!-- 										Configurações -->
				<!-- 								</p:link></li> -->

				<!-- 								<li><p:link target="_blank" -->
				<!-- 										href="/resources/manual/Manual.pdf"> -->
				<!-- 										<i class="fa fa-question-circle"></i> -->
				<!-- 										Manual do sistema -->
				<!-- 								</p:link></li> -->

				<!-- 								<li><p:link href="../login.xhtml"> -->
				<!-- 										<i class="fa fa-external-link"></i> Sair -->
				<!--                                    		</p:link></li> -->
				<!-- 							</ul> -->
				<!-- 						</li> -->
				<!-- <li class="footer"><a href="#">Visualizar todas</a></li> -->
				<!-- 					</ul> -->
				<!-- 				</li>  -->
			</ul>
		</div>
	</nav>

</ui:composition>